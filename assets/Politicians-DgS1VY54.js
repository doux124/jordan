import{r as a,j as e}from"./index-DSIAsZoy.js";const T=()=>{const[c,h]=a.useState([]),[x,j]=a.useState(window.innerWidth<760),i=()=>{j(window.innerWidth<760)};return a.useEffect(()=>{window.addEventListener("resize",i);const t=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(async()=>{try{const l=await(await fetch("https://cors-anywhere.herokuapp.com/https://www.quiverquant.com/congresstrading/politician/Nancy%20Pelosi-P000197",{headers:{"X-Requested-With":"XMLHttpRequest"}})).text(),p=new DOMParser().parseFromString(l,"text/html"),d=Array.from(p.getElementsByTagName("script")).find(r=>r.textContent.includes("let tradeData ="));if(!d){console.log("Trade data not found.");return}const o=d.textContent.match(/let tradeData = (\[\[.*\]\]);/);if(!o){console.log("No trade data found in script.");return}const m=o[1].replace(/NaN/g,"null"),u=JSON.parse(m).map(r=>({symbol:r[0],transactionType:r[1],fileDate:t(r[2]),tradeDate:t(r[3]),description:r[4],type:r[9],amount:r[10],sector:r[13],profit:r[5]!==null?Number(r[5]).toPrecision(3):null}));h(u.slice(0,10))}catch(n){console.error("Error fetching or parsing data:",n)}})(),()=>{window.removeEventListener("resize",i)}},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"w-full px-4 text-center",children:[e.jsx("h2",{className:"subHeader flex-center text-3xl my-5 md:my-10",children:"Nancy Pelosi Stock Trades"}),e.jsxs("span",{className:"text-sm md:text-lg",children:["Request temporary access to CORS Anywhere's demo server at ",e.jsx("a",{href:"https://cors-anywhere.herokuapp.com/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"#87CEEB"},children:"CORS Anywhere"}),e.jsx("br",{}),"Retrieved from: ",e.jsx("a",{href:"https://www.quiverquant.com/congresstrading/politician/Nancy%20Pelosi-P000197",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"#87CEEB"},children:"Quiver Quantitative"})]})]}),x?e.jsx("div",{className:"flex-center flex-col mt-5",children:c.map((t,s)=>e.jsx("table",{className:"mobile-table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Ticker"}),e.jsx("td",{children:t.symbol})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Filed Date",children:" "}),e.jsx("td",{children:t.fileDate})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Trade Date"}),e.jsx("td",{children:t.tradeDate})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Transaction Type"}),e.jsx("td",{children:t.transactionType})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Amount"}),e.jsx("td",{children:t.amount})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Profit (%)"}),e.jsx("td",{children:t.profit})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Type"}),e.jsx("td",{children:t.type})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Sector"}),e.jsx("td",{children:t.sector})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Description"}),e.jsx("td",{children:t.description})]})]})},s))}):e.jsx("div",{className:"flex-center",children:e.jsxs("table",{className:"mt-5 md:mt-10",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Ticker"}),e.jsx("th",{children:"Filed Date"}),e.jsx("th",{children:"Trade Date"}),e.jsx("th",{children:"Transaction Type"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Profit (%)"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Sector"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:c.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.symbol}),e.jsx("td",{children:t.fileDate}),e.jsx("td",{children:t.tradeDate}),e.jsx("td",{children:t.transactionType}),e.jsx("td",{children:t.amount}),e.jsx("td",{children:t.profit}),e.jsx("td",{children:t.type}),e.jsx("td",{children:t.sector}),e.jsx("td",{children:t.description})]},s))})]})})]})};export{T as default};
