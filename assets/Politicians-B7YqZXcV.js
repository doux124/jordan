import{r as i,j as e}from"./index-BqzrmeMT.js";const w=()=>{const[l,h]=i.useState([]);return i.useEffect(()=>{const t=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});(async()=>{try{const a=await(await fetch("https://cors-anywhere.herokuapp.com/https://www.quiverquant.com/congresstrading/politician/Nancy%20Pelosi-P000197",{headers:{"X-Requested-With":"XMLHttpRequest"}})).text(),d=new DOMParser().parseFromString(a,"text/html"),c=Array.from(d.getElementsByTagName("script")).find(r=>r.textContent.includes("let tradeData ="));if(!c){console.log("Trade data not found.");return}const o=c.textContent.match(/let tradeData = (\[\[.*\]\]);/);if(!o){console.log("No trade data found in script.");return}const p=o[1].replace(/NaN/g,"null"),x=JSON.parse(p).map(r=>({symbol:r[0],transactionType:r[1],fileDate:t(r[2]),tradeDate:t(r[3]),description:r[4],type:r[9],amount:r[10],sector:r[13],profit:r[5]!==null?Number(r[5]).toPrecision(3):null}));h(x.slice(0,10))}catch(s){console.error("Error fetching or parsing data:",s)}})()},[]),e.jsxs("div",{children:[e.jsx("h1",{className:"flex-center text-3xl mt-20",children:"Nancy Pelosi Stock Trades"}),e.jsxs("h1",{className:"flex-center mt-10",children:["Request temporary access to CORS Anywhere's demo server at ",e.jsx("a",{href:"https://cors-anywhere.herokuapp.com/",target:"_blank",rel:"noopener noreferrer",children:"https://cors-anywhere.herokuapp.com/"})]}),e.jsxs("h1",{className:"flex-center",children:["Retrieved from: ",e.jsx("a",{href:"https://www.quiverquant.com/congresstrading/politician/Nancy%20Pelosi-P000197",target:"_blank",rel:"noopener noreferrer",children:"https://www.quiverquant.com/congresstrading/politician/Nancy%20Pelosi-P000197"})]}),e.jsx("div",{className:"flex-center",children:e.jsxs("table",{className:"mt-10",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"150px"},children:"Symbol"}),e.jsx("th",{style:{width:"150px"},children:"Filed Date"}),e.jsx("th",{style:{width:"150px"},children:"Trade Date"}),e.jsx("th",{style:{width:"150px"},children:"Transaction Type"}),e.jsx("th",{style:{width:"150px"},children:"Amount"}),e.jsx("th",{style:{width:"150px"},children:"Profit (%)"}),e.jsx("th",{style:{width:"150px"},children:"Type"}),e.jsx("th",{style:{width:"150px"},children:"Sector"}),e.jsx("th",{style:{width:"150px"},children:"Description"})]})}),e.jsx("tbody",{children:l.map((t,n)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.symbol}),e.jsx("td",{children:t.fileDate}),e.jsx("td",{children:t.tradeDate}),e.jsx("td",{children:t.transactionType}),e.jsx("td",{children:t.amount}),e.jsx("td",{children:t.profit}),e.jsx("td",{children:t.type}),e.jsx("td",{children:t.sector}),e.jsx("td",{children:t.description})]},n))})]})})]})};export{w as default};
