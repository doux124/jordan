import{r as a,u as y,j as e}from"./index-DS0VrWb6.js";import{F as D,f as w}from"./faHome-CRi8_kM1.js";const E=()=>{const[c,h]=a.useState([]),[x,j]=a.useState(window.innerWidth<760),m=y(),i=()=>{j(window.innerWidth<760)};return a.useEffect(()=>{window.addEventListener("resize",i);const t=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(async()=>{try{const l=await(await fetch("https://cors-anywhere.herokuapp.com/https://www.quiverquant.com/congresstrading/politician/Nancy%20Pelosi-P000197",{headers:{"X-Requested-With":"XMLHttpRequest"}})).text(),p=new DOMParser().parseFromString(l,"text/html"),o=Array.from(p.getElementsByTagName("script")).find(s=>s.textContent.includes("let tradeData ="));if(!o){console.log("Trade data not found.");return}const d=o.textContent.match(/let tradeData = (\[\[.*\]\]);/);if(!d){console.log("No trade data found in script.");return}const u=d[1].replace(/NaN/g,"null"),f=JSON.parse(u).map(s=>({symbol:s[0],transactionType:s[1],fileDate:t(s[2]),tradeDate:t(s[3]),description:s[4],type:s[9],amount:s[10],sector:s[13],profit:s[5]!==null?Number(s[5]).toPrecision(3):null}));h(f.slice(0,10))}catch(n){console.error("Error fetching or parsing data:",n)}})(),()=>{window.removeEventListener("resize",i)}},[]),e.jsxs("div",{children:[e.jsx("nav",{className:"mt-10 mr-10 text-2xl flex justify-end",children:e.jsx("a",{className:"navLink",onClick:()=>m("/hidden"),children:e.jsx(D,{icon:w.faHome})})}),e.jsxs("div",{className:"w-full px-4 text-center",children:[e.jsx("h2",{className:"subHeader flex-center text-3xl my-5 md:my-10",children:"Nancy Pelosi Stock Trades"}),e.jsxs("span",{className:"text-sm md:text-lg",children:["Request temporary access to CORS Anywhere's demo server at ",e.jsx("a",{href:"https://cors-anywhere.herokuapp.com/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"#87CEEB"},children:"CORS Anywhere"}),e.jsx("br",{}),"Retrieved from: ",e.jsx("a",{href:"https://www.quiverquant.com/congresstrading/politician/Nancy%20Pelosi-P000197",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"#87CEEB"},children:"Quiver Quantitative"})]})]}),x?e.jsx("div",{className:"flex-center flex-col mt-5",children:c.map((t,r)=>e.jsx("table",{className:"mobile-table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Ticker"}),e.jsx("td",{children:t.symbol})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Filed Date",children:" "}),e.jsx("td",{children:t.fileDate})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Trade Date"}),e.jsx("td",{children:t.tradeDate})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Transaction Type"}),e.jsx("td",{children:t.transactionType})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Amount"}),e.jsx("td",{children:t.amount})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Profit (%)"}),e.jsx("td",{children:t.profit})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Type"}),e.jsx("td",{children:t.type})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Sector"}),e.jsx("td",{children:t.sector})]}),e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Description"}),e.jsx("td",{children:t.description})]})]})},r))}):e.jsx("div",{className:"flex-center",children:e.jsxs("table",{className:"mt-5 md:mt-10",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Ticker"}),e.jsx("th",{children:"Filed Date"}),e.jsx("th",{children:"Trade Date"}),e.jsx("th",{children:"Transaction Type"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Profit (%)"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Sector"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:c.map((t,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.symbol}),e.jsx("td",{children:t.fileDate}),e.jsx("td",{children:t.tradeDate}),e.jsx("td",{children:t.transactionType}),e.jsx("td",{children:t.amount}),e.jsx("td",{children:t.profit}),e.jsx("td",{children:t.type}),e.jsx("td",{children:t.sector}),e.jsx("td",{children:t.description})]},r))})]})})]})};export{E as default};
