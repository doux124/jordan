import{r as i,u as I,j as o}from"./index-D5yokye4.js";import{F as L,f as G}from"./faHome-BbMyYVQk.js";const P=()=>{const[h,k]=i.useState([]),[c,d]=i.useState([]),[l,m]=i.useState(""),[u,w]=i.useState([]),[f,x]=i.useState(!1),[g,C]=i.useState({}),[E,p]=i.useState(!1),[v,b]=i.useState(""),W=I();i.useEffect(()=>{const t="AEIOU",e="BCDFGHJKLMNPQRSTVWXYZ",n=[];for(let s=0;s<8;s++){const a=[];for(let r=0;r<8;r++){const M=Math.random()<.3?t:e;a.push(M[Math.floor(Math.random()*M.length)])}n.push(a)}k(n)},[]);const j=async t=>{p(!0),b("");try{const e=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${t.toLowerCase()}`);if(!e.ok)throw new Error("Invalid word");const s=(await e.json())[0].meanings[0].definitions[0].definition;return C(a=>({...a,[t]:s})),!0}catch{return b("Invalid word"),!1}finally{p(!1)}},N=(t,e)=>{const n=Math.abs(t.row-e.row),s=Math.abs(t.col-e.col);return n<=1&&s<=1&&!(n===0&&s===0)},S=t=>{const e=document.elementFromPoint(t.clientX,t.clientY);if(e!=null&&e.dataset.position){const[n,s]=e.dataset.position.split("-").map(Number);return{row:n,col:s}}return null},T=t=>{t.preventDefault();const e=t.touches[0],n=S(e);n&&(x(!0),d([n]),m(h[n.row][n.col]))},D=t=>{if(f){const e=t.touches[0],n=S(e);if(n){const s=c[c.length-1];if(s&&N(s,n)&&!c.some(a=>a.row===n.row&&a.col===n.col)){const a=[...c,n];d(a),m(a.map(r=>h[r.row][r.col]).join(""))}}}},F=async()=>{f&&(x(!1),l.length>=3&&!u.includes(l)&&await j(l)&&w([l,...u]),d([]),m(""))},V=(t,e)=>{x(!0),d([{row:t,col:e}]),m(h[t][e])},$=(t,e)=>{if(f){const n=c[c.length-1];if(N(n,{row:t,col:e})&&!c.some(s=>s.row===t&&s.col===e)){const s=[...c,{row:t,col:e}];d(s),m(s.map(a=>h[a.row][a.col]).join(""))}}},y=async()=>{x(!1),l.length>=3&&!u.includes(l)&&await j(l)&&w([l,...u]),d([]),m("")};return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"max-w-xl w-full bg-white rounded-lg shadow-lg p-4 md:p-6",children:[o.jsxs("div",{className:"relative flex justify-center items-center w-full my-4 md:my-8",children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-black",children:"Word Search"}),o.jsx("nav",{className:"absolute right-2 text-xl md:text-2xl",children:o.jsx("a",{className:"navLink text-black",onClick:()=>W("/tools"),children:o.jsx(L,{icon:G.faHome})})})]}),o.jsx("div",{className:"mb-4 md:mb-6 flex justify-center",children:o.jsx("div",{className:"grid grid-cols-8 gap-4 md:gap-1 select-none touch-none",onTouchStart:T,onTouchMove:D,onTouchEnd:F,onMouseLeave:()=>{f&&y()},children:h.map((t,e)=>t.map((n,s)=>{const a=c.some(r=>r.row===e&&r.col===s);return o.jsx("div",{"data-position":`${e}-${s}`,className:`
                      w-8 h-8 md:w-10 md:h-10 flex items-center justify-center
                      border rounded cursor-pointer font-medium text-base md:text-lg
                      transition-colors duration-150
                      ${a?"bg-blue-500 text-white":"bg-white hover:bg-blue-100 text-black"}
                    `,onMouseDown:()=>V(e,s),onMouseEnter:()=>$(e,s),onMouseUp:y,children:n},`${e}-${s}`)}))})}),o.jsxs("div",{className:"space-y-4 md:space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-base md:text-lg font-medium mb-2 text-black",children:"Current Word:"}),o.jsx("div",{className:"text-lg md:text-xl text-black",children:l}),E&&o.jsx("div",{className:"text-gray-600",children:"Checking word..."}),v&&o.jsx("div",{className:"text-red-500",children:v})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-base md:text-lg font-medium mb-2 text-black",children:["Found Words (",u.length,"):"]}),o.jsx("div",{className:"flex flex-col gap-2 h-40 md:h-48 overflow-y-auto",children:u.map((t,e)=>o.jsxs("div",{className:"flex flex-col bg-blue-50 rounded p-2",children:[o.jsx("span",{className:"text-black font-medium",children:t}),g[t]&&o.jsx("span",{className:"text-sm text-gray-600 mt-1",children:g[t]})]},e))})]})]})]})})};export{P as default};
